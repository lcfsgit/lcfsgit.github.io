<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>lcf的技术笔记 - 把未来可期托付给自己！</title><meta name="author" content="lcf"><meta name="copyright" content="lcf"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="把未来可期托付给自己">
<meta property="og:type" content="website">
<meta property="og:title" content="lcf的技术笔记">
<meta property="og:url" content="https://lcfsgit.github.io/index.html">
<meta property="og:site_name" content="lcf的技术笔记">
<meta property="og:description" content="把未来可期托付给自己">
<meta property="og:locale">
<meta property="og:image" content="https://lcfsgit.github.io/img/tx.png">
<meta property="article:author" content="lcf">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lcfsgit.github.io/img/tx.png"><link rel="shortcut icon" href="/img/tx.png"><link rel="canonical" href="https://lcfsgit.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'lcf的技术笔记',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-11-05 20:32:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/tx.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="lcf的技术笔记"><span class="site-name">lcf的技术笔记</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 查询</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/05/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B-%E9%B8%A2%E5%B0%BE%E8%8A%B1%E5%88%86%E7%B1%BB/" title="机器学习案例-鸢尾花分类">机器学习案例-鸢尾花分类</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-05T12:29:09.000Z" title="Created 2023-11-05 20:29:09">2023-11-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></span></div><div class="content">案例简介使用Sklearn-learn机器学习模块提供的鸢尾花数据集
案例代码1234567891011121314151617181920212223import numpy as npfrom sklearn.model_selection import train_test_splitfrom sklearn.datasets import load_iris#将数据分为训练集和测试集，训练鞋用于训练模型，测试集用户评估模型的性能，使用train_test_split（），将random——state设置随机值，可保证每次分的训练集和测试集数据比例一致iris_dataset=load_iris()X_train,X_test,Y_train,Y_test = train_test_split(iris_dataset[&#x27;data&#x27;],iris_dataset[&#x27;target&#x27;],random_state=0)print(&quot;X_train:&#123;&#125;&quot;.format(X_train[:10]))print( ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/03/%E6%AF%8F%E6%97%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/" title="每日设计模式-适配器">每日设计模式-适配器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-03T13:53:13.000Z" title="Created 2023-11-03 21:53:13">2023-11-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">设计实现适配器模式 往往用在新代码和老代码相互合作上。
首先以圆孔适配圆钉，圆孔不适配方钉为例，建立圆钉适配器，参数为方钉，从而使得圆孔也能适配方钉；圆钉和圆孔相当于老代码，方钉相当于新代码，适配器可以使得，新代码方钉和老代码圆孔相互合作。
代码实现RoundPeg
包含有参无参构造函数，获取圆钉直径的方法。
123456789101112131415public class RoundPeg &#123;    private int radis;    public int getRadis() &#123;        return radis;    &#125;    public RoundPeg(int radis) &#123;        this.radis = radis;    &#125;    public RoundPeg() &#123;    &#125;&#125;

RoundHole
包含有参和无参构造函数，获取圆孔直径的方法，以及检查钉子适配圆孔的方法
123456789101112131415161718192021public clas ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/02/%E6%AF%8F%E6%97%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/" title="每日设计模式-原型模式">每日设计模式-原型模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-02T15:22:57.000Z" title="Created 2023-11-02 23:22:57">2023-11-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">java中应用java中继承cloneable接口，可以实现clone；
设计实现继承同一个父类，父类拥有公共的参数，父类定义抽象方法 clone（）子类实现自己的有参、无参构造方法，有参构造方法，有参构造方法传入克隆的目标对象，一方面使用super构造父类，一方面对自己特有的参数赋值，最终clone（），返回new 构造方法（this）
父类-shape
12345678910111213141516171819202122232425package com.lcf.demo.pattern.prototype;public abstract class Shape &#123;    public int x;    public int y;    public String color;    public Shape()&#123;    &#125;    public Shape(Shape target)&#123;        if(target!=null)&#123;            this.x=target.x;            this.y=t ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/29/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="记录一次云服务器部署环境搭建">记录一次云服务器部署环境搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-29T05:34:23.000Z" title="Created 2023-08-29 13:34:23">2023-08-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/">项目部署</a></span></div><div class="content">记录一次云服务器部署环境搭建需求将sprinboot项目、vue项目部署到云服务器
技术栈：springBoot sprinbSecurity mybatis-plus vue gradle docker nginx  git node jdk
操作系统：Ubuntu 22.04 
ssh工具：Tabby
安装必要软件Node和npm从 Ubuntu 软件源安装 Node.js 和 npm在写作的时候，包含在 Ubuntu 20.04 软件源中的 Node.js 版本是12.22.9，这是一个长期版本。
安装非常直接。运行下面的命令更新软件包索引，并且安装 Node.js 和 npm:
12sudo apt updatesudo apt install nodejs npm

上面的命令将会安装一系列包，包括编译和安装从 npm 来的本地扩展。
一旦完成，运行下面的命令，验证安装过程：
12root@hecs-296785:~# node -vv12.22.9

jdk1）：官方下载对应的.gz包，这里以jdk-8u181-linux-x64.tar.gz为例
2）：创建一个目录用于存 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/22/%E8%A7%A3%E5%86%B3docker%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98/" title="解决docker与服务器时间不一致问题">解决docker与服务器时间不一致问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-22T11:36:37.000Z" title="Created 2023-08-22 19:36:37">2023-08-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/docker/">docker</a></span></div><div class="content">问题描述部署在docker上的web程序，获取当前时间时，与服务器时间相差四个多小时
解决方法
在dockfile中加
12345# 添加时区环境变量，亚洲，上海ENV TimeZone=Asia/Shanghai# 使用软连接，并且将时区配置覆盖/etc/timezoneRUN ln -snf /usr/share/zoneinfo/$TimeZone /etc/localtime &amp;&amp; echo $TimeZone &gt; /etc/timezone

修改后的dockerfile文件
123456789FROM openjdk:8MAINTAINER lcf# 添加时区环境变量，亚洲，上海ENV TimeZone=Asia/Shanghai# 使用软连接，并且将时区配置覆盖/etc/timezoneRUN ln -snf /usr/share/zoneinfo/$TimeZone /etc/localtime &amp;&amp; echo $TimeZone &gt; /etc/timezoneADD boss-server.jar boss-server.j ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/22/springboot+gradle+docker+nginx%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E5%88%B0ubuntu%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="springboot+gradle+docker+nginx项目部署到ubuntu云服务器.md">springboot+gradle+docker+nginx项目部署到ubuntu云服务器.md</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-22T11:32:29.000Z" title="Created 2023-08-22 19:32:29">2023-08-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span></div><div class="content">安装gradle
下载，解压到指定目录
1234wget https://downloads.gradle-dn.com/distributions/gradle-7.4-bin.zip unzip -d /opt/gradle gradle-7.4-bin.zip #查看是否解压成功 ls /opt/gradle/gradle-7.6

配置环境变量
123sudo vim /etc/profile.d/gradle.shsudo chmod +x /etc/profile.d/gradle.shsource /etc/profile.d/gradle.sh

gradle.sh文件内容
12export GRADLE_HOME=/opt/gradle/gradle-7.4export PATH=$&#123;GRADLE_HOME&#125;/bin:$&#123;PATH&#125;

验证安装
1gradle -v

构建jar包
配置文件-build.gradle 文件
12345678910111213141516171819202122232425262728293031 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/22/%E4%BD%BF%E7%94%A8Vanta-js%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E8%83%8C%E6%99%AF/" title="使用Vanta.js实现动态背景">使用Vanta.js实现动态背景</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-22T11:24:05.000Z" title="Created 2023-08-22 19:24:05">2023-08-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Vanta/">Vanta</a></span></div><div class="content">介绍anta.js可以为网站设置炫酷的动态背景 比如在网站登陆的首页，可以与普通JS、React、Angular、Vue等一起使用
官网 Vanta.js - Animated 3D Backgrounds For Your Website
安装three.js 依赖和Vanta JS 依赖12npm i threenpm i vanta

整体代码123456789101112131415161718192021222324252627282930&lt;div ref=&quot;vantaRef&quot; id=&quot;vantaRef&quot; style=&quot;width:100%;height:100vh&quot;&gt;&lt;/div&gt;import * as THREE from &#x27;three&#x27;import NET from &#x27;vanta/src/vanta.net&#x27;mounted() &#123;    this.vantaEffect = NET(&#123;      el: this.$refs.va ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/22/%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E9%83%A8%E7%BD%B2%E5%88%B0%E9%80%9A%E9%81%93/" title="将智能合约部署到通道">将智能合约部署到通道</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-22T11:17:41.000Z" title="Created 2023-08-22 19:17:41">2023-08-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/fabric-hyperledger/">fabric-hyperledger</a></span></div><div class="content">启动测试网络1cd fabric-samples/test-network

1./network.sh down

1234创建一个默认通道mychannel、两个通道成员Org1 和 Org2，将属于每个组织的peer加入通道./network.sh up createChannel 如果网络和通道创建成功，您可以在日志中看到以下消息========= Channel successfully joined ===========

第一步：打包链码（以go语言编写的智能合约为例）123456789101112131415161718cd fabric-samples/asset-transfer-basic/chaincode-java-userjava-安装依赖bash gradlew installDist使用peerCLI 构建链代码包，以下命令将这些二进制文件添加到您的 CLI 路径export PATH=$&#123;PWD&#125;/../bin:$PATH设置FABRIC_CFG_PATH指向存储库中的core.yaml文件fabric-samplesexport ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/vue%E7%BD%91%E9%A1%B5%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD-%E5%90%8C%E6%BA%90%E6%88%96%E9%9D%9E%E5%90%8C%E6%BA%90/" title="网页图片下载-同源或非同源">网页图片下载-同源或非同源</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T15:18:22.000Z" title="Created 2023-08-21 23:18:22">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/">图片下载</a></span></div><div class="content">同源图片下载
html中可以这样写

1&lt;a href=&quot;./img/logo.png&quot; download=&quot;logo.png&quot;&gt;&lt;/a&gt;

javascript中可以这样写
12345678910function imgDownload(url,name)&#123;	//创建一个a标签	const a_b = document.createElement(&#x27;a&#x27;);	//设置href指向	a_b.href = url;	//设置图片下载名字	a_b.download = name;	//点击a标签	a_b.click()&#125;

非同源图片下载方案通过axios请求来实现图片下载
12345678910111213141516171819function downloadByAxios(url,name)&#123;	axios(&#123;		//设置图片路径		url:url,		//设置请求方法为get请求		method:&#x27;get&#x27;,		//设置相应类型为blob	 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/vue%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E6%B0%B4%E5%8D%B0%E6%95%88%E6%9E%9C/" title="vue添加背景水印效果">vue添加背景水印效果</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T15:14:41.000Z" title="Created 2023-08-21 23:14:41">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/vue/">vue</a></span></div><div class="content">项目中新建一个 watermark.js 文件123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778let watermark = &#123;&#125;;let setWatermark = (text, sourceBody) =&gt; &#123;  let id =    Math.random() * 10000 +    &quot;-&quot; +    Math.random() * 10000 +    &quot;/&quot; +    Math.random() * 10000;  if (document.getElementById(id) !== null) &#123;    document.body.removeChild(document.getElementById(id));  &#125;  let  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/%E5%A6%82%E4%BD%95%E6%89%93%E5%8D%B0html%E4%B8%AD%E7%9A%84%E5%9B%BE%E7%89%87/" title="如何打印html中的图片">如何打印html中的图片</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T15:12:29.000Z" title="Created 2023-08-21 23:12:29">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E7%89%87%E6%89%93%E5%8D%B0/">图片打印</a></span></div><div class="content">打印html中的图片浏览器 window 对象提供了 print 方法，就可以对整个页面进行打印。只需要点击按钮执行以下方法即可。
12js复制代码window.print()

调用此方法，会打印出整个 html 里的内容，即 document 对象下所有的页面节点。而我们需要的是只打印页面的某个元素部分，即只打印图片。
浏览器在 具体的dom 节点上并没有部署 print 方法，不过我们可以转变个思路，我们可以将需要打印的元素提取出来，同时构造一个新的window对象，将提取出来的元素插入到这个window对象下，再调用打印即可。
html1234567&lt;div id=&quot;box&quot;&gt;        &lt;el-image                style=&quot;width: 300px; height: 300px;&quot;                :src=&quot;imageUrl&quot;                :fit=&quot;fit&quot;&gt;        &lt;/el-image&gt; ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" title="负载均衡">负载均衡</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T15:07:38.000Z" title="Created 2023-08-21 23:07:38">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nginx/">nginx</a></span></div><div class="content">实现请求负载均衡配置多个目标服务器，当一台服务器出现故障时，nginx 能将请求自动转向另一台服务器
123456789101112131415161718192021222324252627282930313233http &#123;    sendfile_max_chunk 100k;  #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。    keepalive_timeout 65;  #连接超时时间，默认为75s，可以在http，server，location块。    upstream mysvr &#123;         server 127.0.0.1:7878 weight=2;      server 192.168.10.121:3333 backup weight=1;  #根据权重进行轮询负载均衡    &#125;    error_page 404 https://www.baidu.com; #错误页    server &#123;        keepalive_requests 120; #单连接请求上限次数。       ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/windows%E4%B8%8B%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E4%BB%A3%E7%90%86/" title="windows下静态资源代理">windows下静态资源代理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T15:01:18.000Z" title="Created 2023-08-21 23:01:18">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nginx/">nginx</a></span></div><div class="content">静态资源访问配置windows下
1234567891011121314151617181920212223242526272829303132333435363738394041server &#123;        keepalive_requests 120; #单连接请求上限次数。        listen       9090;   #监听端口        server_name  127.0.0.1;   #监听地址               location  ~*^.+$ &#123;       #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。           #root path;  #根目录           #index vv.txt;  #设置默认页           proxy_pass  http://mysvr;  #请求转向mysvr 定义的服务器列表           deny 127.0.0.1;  #拒绝的ip           allow 172.18.5.54; #允许的ip             #  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" title="反向代理">反向代理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T14:58:55.000Z" title="Created 2023-08-21 22:58:55">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nginx/">nginx</a></span></div><div class="content">nginx的proxy_pass配置路径，加与不加“&#x2F;”差异巨大1.1 绝对路径123location /proxy &#123;    proxy_pass http://192.168.137.181:8080/;&#125;

当访问 http://127.0.0.1/proxy/test/test.txt时，nginx匹配到&#x2F;proxy路径，把请求转发给192.168.137.181:8080服务，实际请求路径为 http://10.0.0.1:8080/test/test.txt，nginx会去掉匹配的“&#x2F;proxy”。
1.2 相对路径123location /proxy &#123;    proxy_pass http://10.0.0.1:8080;&#125;

当访问 http://127.0.0.1/proxy/test/test.txt时，nginx匹配到&#x2F;proxy路径，把请求转发给192.168.137.181:8080服务，实际请求代理服务器的路径为 http://192.168.137.181:8080/prox ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/BCryptPasswordEncoder%E4%BD%BF%E7%94%A8/" title="BCryptPasswordEncoder使用">BCryptPasswordEncoder使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T14:25:52.000Z" title="Created 2023-08-21 22:25:52">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java%E8%BF%9B%E9%98%B6/">java进阶</a></span></div><div class="content">BCryptPasswordEncoder使用 在 Spring Security 中有一个加密的类 BCryptPasswordEncoder ，它的使用非常的简单而且也比较有趣。让我们来看看它的使用。
 首先创建一个 SpringBoot 的项目，在创建项目的时候添加 Spring Security 的依赖。然后我们添加一个测试类，写如下的代码：
12345678910111213final private String password = &quot;123456&quot;;@Testpublic void TestCrypt()&#123;    BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();    String encode1 = bCryptPasswordEncoder.encode(password);    System.out.println(&quot;encode1:&quot; + encode1);        String encode2 = bCr ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/JwT%E7%9A%84%E7%AE%80%E5%8D%95%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B/" title="JwT的工作流程">JwT的工作流程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T14:20:49.000Z" title="Created 2023-08-21 22:20:49">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java%E8%BF%9B%E9%98%B6/">java进阶</a></span></div><div class="content">什么是JWT？JWT是Json Web Token的缩写。它是基于 RFC 7519 标准定义的一种可以安全传输的 小巧 和 自包含 的JSON对象。由于数据是使用数字签名的，所以是可信任的和安全的。JWT可以使用HMAC算法对secret进行加密或者使用RSA的公钥私钥对来进行签名。
JWT的工作流程下面是一个JWT的工作流程图。模拟一下实际的流程是这样的（假设受保护的API在&#x2F;protected中）

用户导航到登录页，输入用户名、密码，进行登录
服务器验证登录鉴权，如果改用户合法，根据用户的信息和服务器的规则生成JWT Token
服务器将该token以json形式返回（不一定要json形式，这里说的是一种常见的做法）
用户得到token，存在localStorage、cookie或其它数据存储形式中。
以后用户请求&#x2F;protected中的API时，在请求的header中加入Authorization: Bearer xxxx(token)。此处注意token之前有一个7字符长度的 Bearer
服务器端对此token进行检验，如果合法就解析其中内容，根据其拥 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/hexo-typra-picgo-gitee%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%86%99%E4%BD%9C%E7%8E%AF%E5%A2%83/" title="hexo+typra+picgo+gitee搭建博客写作环境">hexo+typra+picgo+gitee搭建博客写作环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T06:51:52.000Z" title="Created 2023-08-21 14:51:52">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建</a></span></div><div class="content">博客使用hexo，部署在github page，Typora支持markdown非常棒，但是图片之类的无法直接上传到云端，因为它的图片是本地的，这几天看到网上有介绍Typora设置免费的图床（gitee），而且图片粘贴上去，直接自动上传到图床生成链接，这样将md文件发给别人，再也不用担心图片无法正常显示的问题了。设置好之后，写一篇教程，记录一下。
安装下载PicGo山东大学镜像站 https://mirrors.sdu.edu.cn/github-release/Molunerfinn_PicGo/，选择最新版本下载

新建gitee仓库-生成令牌新仓库要初始化readme！！！

在PicGo设置图床参数repo：用户名/网址仓库名,并设置为默认图库

设置typra12345hexo new post &quot;xxx&quot;hexo chexo ghexo shexo d

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/21/%E5%8A%A8%E6%80%81%E7%9B%91%E5%90%AC%E6%90%9C%E7%B4%A2%E5%AE%9E%E7%8E%B0/" title="动态监听搜索实现">动态监听搜索实现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-21T06:05:46.000Z" title="Created 2023-08-21 14:05:46">2023-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="content">需求是怎样的因为数据条数过多，用户要求新增搜索功能

实际如何做面板头部头部空间有限，再加之考虑美观性，决定通过动态监听搜索框内所输入的数据，展示匹配结果。因为监听变量位于对象内，故采用深度监听。
两种监听方式普通监听12345678910111213141516&lt;template&gt;	&lt;div&gt;&lt;/div&gt;&lt;/template&gt;&lt;script&gt;	export default &#123;		data()&#123;			variable:null,		&#125;,		watch:&#123;			// 此处监听variable变量，当期有变化时执行			variable(item1,item2)&#123;				// item1为新值，item2为旧值			&#125;		&#125;	&#125;&lt;/script&gt;

深度监听（变量在对象内）一个变量12345678910111213141516171819&lt;template&gt;	&lt;div&gt;&lt;/div&gt;&lt;/templat ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/20/sql%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/" title="sql条件查询">sql条件查询</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-20T14:21:01.000Z" title="Created 2023-08-20 22:21:01">2023-08-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">sql条件查询-使用like,实现模糊查询，子查询1234SELECT            MAX( ctime ) AS max_ctime        FROM            ( SELECT ctime FROM alarm_monitor WHERE alarm_status = &#x27;true&#x27; AND is_under like &#x27;%0&#x27; ) as a

使用自定义值，默认查询所有12set @pos=&quot;&quot;select * from user where (name=@pos or @pos=&quot;&quot;)

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/20/%E5%85%B3%E4%BA%8Emysql%E5%A4%A7%E5%B0%8F%E5%86%99%E6%95%8F%E6%84%9F%E9%97%AE%E9%A2%98/" title="关于mysql大小写敏感问题">关于mysql大小写敏感问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-20T14:15:56.000Z" title="Created 2023-08-20 22:15:56">2023-08-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">1.决定大小写是否敏感的参数在 MySQL 中，数据库与 data 目录中的目录相对应。数据库中的每个表都对应于数据库目录中的至少一个文件（可能是多个文件，具体取决于存储引擎）。因此，操作系统的大小写是否敏感决定了数据库大小写是否敏感，而 Windows 系统是对大小写不敏感的，Linux 系统对大小写敏感。
默认情况下，库表名在 Windows 系统下是不区分大小写的，而在 Linux 系统下是区分大小写的。列名，索引名，存储过程、函数及事件名称在任何操作系统下都不区分大小写，列别名也不区分大小写。
除此之外，MySQL 还提供了 lower_case_table_names 系统变量，该参数会影响表和数据库名称在磁盘上的存储方式以及在 MySQL 中的使用方式，在 Linux 系统，该参数默认为 0 ，在 Windows 系统，默认值为 1 ，在 macOS 系统，默认值为 2 。下面再来看下各个值的具体含义：



Value
Meaning



0
库表名以创建语句中指定的字母大小写存储在磁盘上，名称比较区分大小写。


1
库表名以小写形式存储在磁盘上，名称比较不区分大小写 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/19/%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93-8-10/" title="每日总结-8.10">每日总结-8.10</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-19T08:21:47.000Z" title="Created 2023-08-19 16:21:47">2023-08-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93/">每日总结</a></span></div><div class="content">出现的问题
使用springboot自动注入，没有引用接口，而是直接引用的类，导致在类名修改的时候，要寻找到引用类名的地方，在修改类名

不同数据库表的pojo类复用，导致后期在数据库表的数据相差较大时，还需再次定义对应的pojo类，此时大量的逻辑都是针对之前的pojo类操作，导致代码改动较大

在编写dao层时，对于方法的通用性考虑不足，不符合开闭原则，例如在传参时，固定传参某个对象
1List&lt;PatrolArea&gt; queryFirstAreaByAreaId(PatrolDevice patrolDevice)

造成如果此时有另一对象同样含有areaid，那么需要再写一个方法去适应这种变化，
改进方案

将传参类型变为基础类型
1List&lt;PatrolArea&gt; queryFirstAreaByAreaId(String id)

或者将传参改为接口，只要实现接口，都可以作为参数被传入，如果实现类中没有查询条件，也就是areaid，那么查询就会出错，此时需要在接口中实现赋值方法
12345class PatrolArea implements inte ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/19/%E6%8E%A5%E5%8F%A3%E6%94%B9%E9%80%A0%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="接口改造多线程">接口改造多线程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-19T08:15:38.000Z" title="Created 2023-08-19 16:15:38">2023-08-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%B0%83%E4%BC%98%E8%AE%B0%E5%BD%95/">调优记录</a></span></div><div class="content">采用共享变量＋Callable的方式需求：将同步代码改成多线程
原始同步代码如下：
1234567891011121314151617181920  JSONObject resultJson=new JSONObject();//查询该用户是否存在该任务   patrolDevice.setHead_people_id_number(userService.getUserDetailAndCheckIdNumber(token));        List&lt;PatrolDevice&gt; results=patrolDeviceDao.queryDeviceByObjectNoPagination(patrolDevice);        if(results.isEmpty() || results.size()&gt;1)&#123;            throw new MissingArgumentException(&quot;本设备不属于当前登录人员的巡检任务&quot;);        &#125;        PatrolDevice resultD ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/19/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" title="分布式锁">分布式锁</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-19T08:15:28.000Z" title="Created 2023-08-19 16:15:28">2023-08-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java%E5%9F%BA%E7%A1%80/">java基础</a></span></div><div class="content">线程锁给方法、代码块加锁，某个方法或代码使用锁，在同一时刻仅有一个线程执行该方法或该代码段。线程锁只在同一JVM中有效果，因为线程锁的实现在根本上是依靠线程之间共享内存实现的，比如Synchronized、Lock等
进程锁控制同一个系统中多个线程访问同一个共享资源，因为程序的独立性，各个进程无法控制其他进程对资源的访问，可以利用操作系统的信号量机制
分布式锁多个进程不在同一个系统中，使用分布式锁控制多个进程对同一资源的访问
特性
互斥性：任意时刻，只能有一个客户端可以获取锁
安全性::  锁只能被持有该锁的客户端删除，不能由其它客户端删除
死锁: 获取锁的客户端因为某些原因（如down机等）而未能释放锁，其它客户端再也无法获取到该锁。
容错：当部分节点（redis节点等）down机时，客户端仍然能够获取锁和释放锁

实现分布式锁的三种方式
基于缓存（Redis等）实现分布式锁； 
基于数据库实现分布式锁； 
基于Zookeeper实现分布式锁；

基于Redis的分布式锁利用SETNX和SETEX使用key-value的方式，以数据的某个属性作为键，给改代码块或者对象加锁。在进程初次 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/08/19/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AF%BC%E5%87%BAexcel/" title="多线程导出excel">多线程导出excel</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-08-19T07:34:20.000Z" title="Created 2023-08-19 15:34:20">2023-08-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%B0%83%E4%BC%98%E8%AE%B0%E5%BD%95/">调优记录</a></span></div><div class="content">线程池的5种状态状态分类RUNNING线程池处在 RUNNING 状态时，能够接收新任务，以及对已添加的任务进行处理。该状态是线程池的初始状态，线程池一旦被创建，就处于 RUNNING 状态
SHUTDOWN线程池处于 SHUTDOWN 状态时，不接收新任务，但能处理等待队列中的任务。线程池在 RUNNING 状态下，调用 shutdown() 方法，会变成 SHUTDOWN 状态。
STOP线程池处于 STOP 状态时，不接收新任务，不再处理等待队列中的任务，并且会中断正在处理的任务线程池在 RUNNING 状态下，调用 shutdownNow() 方法，变为 STOP 状态
TIDYING所有的任务都销毁了，工作线程数量为0，线程池的状态在转换为 TIDYING 状态时，会执行钩子方法 terminated()线程池在 SHUTDOWN 状态时，阻塞队列为空并且线程池中执行的任务也为空时，就会由 SHUTDOWN 状态变为 TIDYING 状态；线程池在 STOP 状态时，线程池中执行的任务为空时，就会由 STOP 状态变为 TIDYING 。
TERMINATEDterminat ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/tx.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">lcf</div><div class="author-info__description">把未来可期托付给自己</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最近更新</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/05/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%A1%88%E4%BE%8B-%E9%B8%A2%E5%B0%BE%E8%8A%B1%E5%88%86%E7%B1%BB/" title="机器学习案例-鸢尾花分类">机器学习案例-鸢尾花分类</a><time datetime="2023-11-05T12:29:09.000Z" title="Created 2023-11-05 20:29:09">2023-11-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/03/%E6%AF%8F%E6%97%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/" title="每日设计模式-适配器">每日设计模式-适配器</a><time datetime="2023-11-03T13:53:13.000Z" title="Created 2023-11-03 21:53:13">2023-11-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/02/%E6%AF%8F%E6%97%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/" title="每日设计模式-原型模式">每日设计模式-原型模式</a><time datetime="2023-11-02T15:22:57.000Z" title="Created 2023-11-02 23:22:57">2023-11-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/29/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="记录一次云服务器部署环境搭建">记录一次云服务器部署环境搭建</a><time datetime="2023-08-29T05:34:23.000Z" title="Created 2023-08-29 13:34:23">2023-08-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/22/%E8%A7%A3%E5%86%B3docker%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98/" title="解决docker与服务器时间不一致问题">解决docker与服务器时间不一致问题</a><time datetime="2023-08-22T11:36:37.000Z" title="Created 2023-08-22 19:36:37">2023-08-22</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类详情</span>
            <a class="card-more-btn" href="/categories/" title="View More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">java基础</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java%E8%BF%9B%E9%98%B6/"><span class="card-category-list-name">java进阶</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/nginx/"><span class="card-category-list-name">nginx</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="card-category-list-name">前端</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Vanta/"><span class="card-category-list-name">Vanta</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/vue/"><span class="card-category-list-name">vue</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/"><span class="card-category-list-name">图片下载</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E7%89%87%E6%89%93%E5%8D%B0/"><span class="card-category-list-name">图片打印</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签详情</span></div><div class="card-tag-cloud"><a href="/tags/JWT/" style="font-size: 1.15em; color: rgb(67, 78, 94)">JWT</a><a href="/tags/BCryptPasswordEncoder/" style="font-size: 1.15em; color: rgb(129, 183, 27)">BCryptPasswordEncoder</a><a href="/tags/Spring-Security/" style="font-size: 1.15em; color: rgb(51, 189, 178)">Spring Security</a><a href="/tags/Hexo/" style="font-size: 1.15em; color: rgb(47, 173, 65)">Hexo</a><a href="/tags/gitee/" style="font-size: 1.15em; color: rgb(8, 25, 115)">gitee</a><a href="/tags/PicGo/" style="font-size: 1.15em; color: rgb(146, 26, 83)">PicGo</a><a href="/tags/Typra/" style="font-size: 1.15em; color: rgb(31, 12, 120)">Typra</a><a href="/tags/springboot/" style="font-size: 1.35em; color: rgb(60, 119, 183)">springboot</a><a href="/tags/gradle/" style="font-size: 1.25em; color: rgb(200, 173, 109)">gradle</a><a href="/tags/docker/" style="font-size: 1.35em; color: rgb(35, 29, 88)">docker</a><a href="/tags/nginx/" style="font-size: 1.45em; color: rgb(5, 190, 102)">nginx</a><a href="/tags/ubuntu/" style="font-size: 1.25em; color: rgb(80, 29, 119)">ubuntu</a><a href="/tags/%E7%BD%91%E9%A1%B5%E6%B0%B4%E5%8D%B0/" style="font-size: 1.15em; color: rgb(14, 79, 156)">网页水印</a><a href="/tags/MySQL/" style="font-size: 1.25em; color: rgb(85, 139, 65)">MySQL</a><a href="/tags/%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/" style="font-size: 1.15em; color: rgb(22, 48, 112)">条件查询</a><a href="/tags/%E5%AD%90%E6%9F%A5%E8%AF%A2/" style="font-size: 1.15em; color: rgb(118, 32, 178)">子查询</a><a href="/tags/%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2/" style="font-size: 1.15em; color: rgb(143, 199, 12)">模糊查询</a><a href="/tags/java-scripts/" style="font-size: 1.25em; color: rgb(179, 70, 147)">java scripts</a><a href="/tags/html/" style="font-size: 1.25em; color: rgb(103, 102, 118)">html</a><a href="/tags/Vanta/" style="font-size: 1.15em; color: rgb(39, 60, 102)">Vanta</a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" style="font-size: 1.15em; color: rgb(37, 106, 65)">分布式锁</a><a href="/tags/element/" style="font-size: 1.15em; color: rgb(117, 11, 53)">element</a><a href="/tags/vue/" style="font-size: 1.25em; color: rgb(51, 59, 19)">vue</a><a href="/tags/%E6%B7%B1%E5%BA%A6%E7%9B%91%E5%90%AC/" style="font-size: 1.15em; color: rgb(54, 31, 90)">深度监听</a><a href="/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" style="font-size: 1.15em; color: rgb(118, 22, 80)">反向代理</a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.25em; color: rgb(188, 5, 60)">多线程</a><a href="/tags/fabric-hyperledger/" style="font-size: 1.15em; color: rgb(193, 192, 44)">fabric-hyperledger</a><a href="/tags/hutool/" style="font-size: 1.15em; color: rgb(161, 34, 177)">hutool</a><a href="/tags/git/" style="font-size: 1.15em; color: rgb(78, 120, 52)">git</a><a href="/tags/node/" style="font-size: 1.15em; color: rgb(114, 21, 103)">node</a><a href="/tags/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" style="font-size: 1.15em; color: rgb(14, 50, 63)">负载均衡</a><a href="/tags/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(7, 46, 21)">原型模式</a><a href="/tags/%E9%80%82%E9%85%8D%E5%99%A8/" style="font-size: 1.15em; color: rgb(160, 65, 186)">适配器</a><a href="/tags/K-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(90, 137, 43)">K-近邻算法</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>目录详情</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">November 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">August 2023</span><span class="card-archive-list-count">21</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>访问详情</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">24</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-11-05T12:32:58.135Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div><div class="card-widget user-map" id="user-map"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>访客地图</span></div><div class="item-content"><script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8"></script></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By lcf</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional Chinese And Simplified Chinese">簡</button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">查询</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>